<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü–µ—Ä–µ—Ö–æ–¥ –ø–æ —Å—Å—ã–ª–∫–µ | MagicLink</title>
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
    <script th:inline="javascript">
        <![CDATA[
        const redirect = () => {
            window.location.href = [[${link.originalUrl}]];
        };

        let seconds = 5;
        const startTimer = () => {
            const timerElement = document.getElementById('timer');
            const interval = setInterval(() => {
                seconds--;
                timerElement.textContent = seconds;
                if (seconds <= 0) {
                    clearInterval(interval);
                    document.getElementById('continue-btn').disabled = false;
                    document.getElementById('timer-text').style.display = 'none';
                }
            }, 1000);
        };
        ]]>
    </script>
</head>
<body onload="startTimer()">
<div class="ad-container">
    <div class="ad-header">
        <div class="logo">MagicüîóLink</div>
        <div class="ad-notice">
            <span class="warning-icon">‚ö†Ô∏è</span>
            <span>–†–µ–∫–ª–∞–º–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥</span>
        </div>
    </div>

    <main class="ad-content">
        <div class="ad-warning-message">
            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ <span id="timer-text"><span id="timer">5</span> —Å–µ–∫—É–Ω–¥</span></p>
            <p>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è –∑–∞ —Å—á—ë—Ç –ø–æ–∫–∞–∑–∞ —Ä–µ–∫–ª–∞–º—ã</p>
        </div>

        <!-- –†–µ–∫–ª–∞–º–Ω—ã–π –±–ª–æ–∫ -->
        <div class="ad-banner" id="ad-banner">
            <!-- –ü—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–µ–∫–ª–∞–º–Ω–æ–π —Å–µ—Ç—å—é -->
            <iframe th:if="${adType == 'banner'}"
                    src="https://example-ads.com/banner?id=123"
                    frameborder="0"
                    scrolling="no"
                    class="ad-frame"></iframe>

            <!-- –ü—Ä–∏–º–µ—Ä —Ç–µ–∫—Å—Ç–æ–≤–æ–π —Ä–µ–∫–ª–∞–º—ã -->
            <div th:if="${adType == 'text'}" class="text-ad">
                <h3>–†–µ–∫–ª–∞–º–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ</h3>
                <p th:text="${adContent}">–°–ø–µ—Ü–∏–∞–ª—å–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ! –ö—É–ø–∏—Ç–µ —Å–µ–π—á–∞—Å –∏ –ø–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É!</p>
                <a th:href="${adLink}" class="ad-link" target="_blank">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
            </div>
        </div>

        <button id="continue-btn"
                class="magic-button"
                onclick="redirect()"
                disabled>
            <span class="button-text">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</span>
            <div class="hover-effect"></div>
        </button>
    </main>

    <div class="ad-footer">
        <p>–†–µ–∫–ª–∞–º–∞ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä–≤–∏—Å</p>
        <a href="/premium" class="ad-free-link">
            <span class="magic-text">–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ –±–µ–∑—Ä–µ–∫–ª–∞–º–Ω—É—é –≤–µ—Ä—Å–∏—é</span>
        </a>
    </div>
</div>

<script>
    setTimeout(() => {
        if (document.getElementById('ad-banner').clientHeight === 0) {
            alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–∫–ª—é—á–∏—Ç–µ AdBlock –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å–µ—Ä–≤–∏—Å–∞!');
        }
    }, 1000);
</script>
</body>
</html>
